{"is_source_file": true, "format": "Kotlin", "description": "This file defines the PlayerViewModel class, a ViewModel in an Android app that manages and exposes player state and live subtitle text, interfacing with a PlayerRepository and subtitle extraction components.", "external_files": ["org/example/app/ml/SubTitleExtractor", "org/example/app/ml/TFLiteSubtitleExtractorStub", "org/example/app/player/PlayerRepository"], "external_methods": ["com.google.android.exoplayer2.Player.currentPosition", "com.google.android.exoplayer2.Player.duration", "com.google.android.exoplayer2.Player.isPlaying", "android.os.Handler.postDelayed", "android.os.Handler.removeCallbacks", "com.google.android.exoplayer2.graphics.Bitmap.createBitmap"], "published": ["PlayerViewModel", "subtitle", "durationMs", "positionMs", "isPlaying", "player", "startTicker", "stopTicker"], "classes": [{"name": "PlayerViewModel", "description": "A ViewModel class that exposes the player state and subtitle text, periodically updating its information via a handler."}], "methods": [{"name": "player", "description": "Returns the Player instance from the repository."}, {"name": "startTicker", "description": "Starts the periodic updates of player state and subtitles."}, {"name": "stopTicker", "description": "Stops the periodic updates."}, {"name": "onCleared", "description": "Cleans up resources when the ViewModel is destroyed."}], "calls": ["repository.player", "p.currentPosition", "p.duration", "p.isPlaying", "mainHandler.post", "mainHandler.postDelayed", "mainHandler.removeCallbacks", "Bitmap.createBitmap", "extractor.extractFromFrame", "extractor.release"], "search-terms": ["PlayerViewModel", "SubtitleExtractor", "TFLiteSubtitleExtractorStub", "PlayerRepository", "AndroidViewModel", "live subtitle", "periodic update", "video frame subtitle extraction"], "state": 2, "file_id": 14, "knowledge_revision": 41, "git_revision": "", "revision_history": [{"33": ""}, {"41": ""}], "hash": "e3c06d7c290d2a3d6cc997101f1a06a5", "format-version": 4, "code-base-name": "android_subtitle_frontend", "filename": "android_subtitle_frontend/app/src/main/kotlin/org/example/app/ui/PlayerViewModel.kt"}