{"is_source_file": true, "format": "Kotlin", "description": "This file defines PlayerViewModel, a ViewModel class responsible for managing media playback state and live subtitle text for the UI. It interacts with a PlayerRepository for media control, uses a SubtitleExtractor for ML-based subtitle extraction, and periodically updates playback information and subtitle text via a Handler.", "external_files": ["org.example.app.ml.SubtitleExtractor", "org.example.app.ml.TFLiteSubtitleExtractorStub", "org.example.app.player.PlayerRepository"], "external_methods": ["org.example.app.ml.SubtitleExtractor.extractFromFrame", "org.example.app.ml.TFLiteSubtitleExtractorStub.release", "org.example.app.player.PlayerRepository.player", "org.example.app.player.Player.currentPosition", "org.example.app.player.Player.duration", "org.example.app.player.Player.isPlaying", "org.example.app.player.PlayerRepository.release"], "published": ["player()", "startTicker()", "stopTicker()"], "classes": [{"name": "PlayerViewModel", "description": "A ViewModel that exposes player state and live subtitle text, manages playback updates, and ML subtitle extraction."}], "methods": [{"name": "player()", "description": "Returns the Player instance managed by the ViewModel."}, {"name": "startTicker()", "description": "Starts periodic updates of playback state and subtitle extraction."}, {"name": "stopTicker()", "description": "Stops periodic updates to prevent leaks and unnecessary processing."}, {"name": "onCleared()", "description": "Cleans up resources when ViewModel is destroyed, stopping periodic updates and releasing dependencies."}], "calls": ["repository.player.currentPosition", "repository.player.duration", "repository.player.isPlaying", "extractor.extractFromFrame", "mainHandler.post", "mainHandler.postDelayed", "mainHandler.removeCallbacks", "extractor.release", "repository.release"], "search-terms": ["PlayerViewModel", "SubtitleExtractor", "ML subtitle extraction", "ExoPlayer", "LiveData for subtitles", "AndroidViewModel", "Handler for periodic updates"], "state": 2, "file_id": 14, "knowledge_revision": 56, "git_revision": "ea8d1976b480673d3a462a5ffd2cd3ef3ceb5569", "revision_history": [{"33": ""}, {"41": ""}, {"50": "ea8d1976b480673d3a462a5ffd2cd3ef3ceb5569"}, {"56": "ea8d1976b480673d3a462a5ffd2cd3ef3ceb5569"}], "hash": "8cc9c085df82b7def2f34a4298f6e3a4", "format-version": 4, "code-base-name": "android_subtitle_frontend", "filename": "android_subtitle_frontend/app/src/main/kotlin/org/example/app/ui/PlayerViewModel.kt"}